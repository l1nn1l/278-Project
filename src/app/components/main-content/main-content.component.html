<div class="main-content">
  <div class="fixed-header">
    <div class="filter-header">
      <!-- Filter options -->
      <div class="filter-item">
        <button class="filter-button"><i class="material-icons">topic</i>Type<i
            class="material-icons">arrow_drop_down</i></button>
      </div>
      <div class="filter-item">
        <button class="filter-button"><i class="material-icons">person</i>People<i
            class="material-icons">arrow_drop_down</i></button>
      </div>
      <div class="filter-item">
        <button class="filter-button"><i class="material-icons">calendar_today</i>Modified<i
            class="material-icons">arrow_drop_down</i></button>
      </div>
      <div class="filter-item">
        <button class="filter-button"><i class="material-icons">folder_open</i>Location<i
            class="material-icons">arrow_drop_down</i></button>
      </div>
    </div>

    <div *ngIf="!showActions" class="tab-section">
      <!-- Tab navigation -->
      <div class="left">
        <span>Suggested</span>
        <button class="type-button" [ngClass]="{'active': contentType === 'files'}" (click)="toggleContentType('files')">
          <i class="material-icons">{{ contentType === 'files' ? 'check' : 'description' }}</i>Files
        </button>
        <button class="type-button" [ngClass]="{'active': contentType === 'folders'}" (click)="toggleContentType('folders')">
          <i class="material-icons">{{ contentType === 'folders' ? 'check' : 'folder_open' }}</i>Folders
        </button>
      </div>
      <div class="right">
        <!-- Layout switch buttons -->
        <button class="layout-button" [ngClass]="{'active': !isGridView}" (click)="setListView()">
          <i class="material-icons">{{ !isGridView ? 'check' : 'menu' }}</i>
        </button>
        <button class="layout-button" [ngClass]="{'active': isGridView}" (click)="setGridView()">
          <i class="material-icons">{{ isGridView ? 'check' : 'apps' }}</i>
        </button>
      </div>      
    </div>

    <div *ngIf="showActions" class="actions-section">
      <!-- Actions when an item is selected -->
      <div class="actions">
        <button class="round-button" (click)="closeActions()"><i class="material-icons">close</i></button>
        <!-- Additional action buttons -->
        <button class="round-button"><i class="material-icons">person_add</i></button>
        <button class="round-button"><i class="material-icons">download</i></button>
        <button class="round-button"><i class="material-icons">input</i></button>
        <button class="round-button"><i class="material-icons">delete</i></button>
        <button class="round-button"><i class="material-icons">link</i></button>
        <button class="round-button"><i class="material-icons">more_vert</i></button>
      </div>
    </div>

  </div>

  <div class="scrollable-content">
    <!-- Main content area with conditional grid or list view -->
    <div class="content-area" [ngClass]="{'content-grid': isGridView, 'content-list': !isGridView}">
      <!-- Headers for the list view -->
      <div *ngIf="!isGridView" class="list-header">
        <div class="item-icon-header"></div> <!-- Empty for the icon header -->
        <div class="item-name-header">Name</div>
        <div class="item-reason-header">Reason Suggested</div>
        <div class="item-owner-header">Owner</div>
        <div class="item-location-header">Location</div>
        <div class="item-actions-header"></div> <!-- Empty for the actions header -->
      </div>

      <!-- Items for grid or list view -->
      <div class="item" *ngFor="let item of displayedItems; let i = index"  (click)="toggleActions(item)">
        <!-- Grid view -->
        <div *ngIf="isGridView" class="content-grid">
          <div class="item-header">
            <i class="material-icons">picture_as_pdf</i>
            <div class="filename">{{ item.name }}</div>
            <button  class="round-button" [matMenuTriggerFor]="menu" (click)="$event.stopPropagation()">
              <i class="material-icons">more_vert</i>
            </button>
          
            <!-- Kebab menu structure -->
            <mat-menu #menu="matMenu" class="customize-panel">
              <button mat-menu-item class="customize-item" (click)="openWith(item)">
                <span>Open with</span>
              </button>
              <button mat-menu-item class="customize-item" (click)="download(item)">
                <span>Download</span>
              </button>
              <!-- ... other menu items ... -->
              <button mat-menu-item class="customize-item" (click)="moveToTrash(item)">
                <span>Move to Trash</span>
              </button>
              <button mat-menu-item class="customize-item" (click)="viewDetails(item)">
                <span>File Information</span>
              </button>
            </mat-menu>
           </div>
          <div class="item-image">
            <img alt="File image">
          </div>
          <div class="item-info">
            <div class="meta">{{ item.modified | date:'medium' }}</div>
          </div>
        </div>

        <!-- List view -->
        <div *ngIf="!isGridView" class="content-list">
          <div class="list-item">
            <div class="item-icon">
              <i class="material-icons">insert_drive_file</i>
            </div>
            <div class="item-name">{{ item.name }}</div>
            <div class="item-reason">{{ item.name }}</div>
            <div class="item-owner">{{ item.name }}</div>
            <div class="item-location">{{ item.name }}</div>
            <div class="item-actions">
              <div class="item-hover-menu">
                <button class="round-button"><i class="material-icons">share</i></button>
                <button class="round-button"><i class="material-icons">download</i></button>
                <button class="round-button"><i class="material-icons">edit</i></button>
                <button class="round-button"><i class="material-icons">star</i></button>
              </div>
              <button class="round-button"><i class="material-icons">more_vert</i></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>